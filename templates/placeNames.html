{% extends 'base.html' %}
{% block content %}

{% if session['username'] %}
    <a href="{{url_for('add_place_name')}}" class="waves-effect waves-light btn btn_large green"><i class="fas fa-plus"></i> Add Place Name </a>
{% endif %}
<form action="{{ url_for('sort_place_names')}}" method="POST" >
      <div class="row">
      <select name="sort_by" id="sort_by" class="col s9">
        <option value="location">Location</option>
        <option value="likes">likes</option>
        <option value="created_by">Created by</option>
        <option value="eng_name">Name</option>
      </select>
      <button class="btn waves-effect waves-light" type="submit" name="action" class="col s3">Sort
        <i class="material-icons right">playlist_add</i>
      </button>
      </div>
</form>
<div>
        <p><strong>Showing '{{ place_names.count() }}' place names</strong></p>
</div>
    
<ul class="collapsible" data-collapsible="accordion">
    {% for place_name in place_names %}
        <li>
            <div class="collapsible-header active">
              
                <div class="task_header col s6 ">
                    
                    <strong>{{place_name.eng_name}}</strong> - {{place_name.irl_name}}
                    
                </div>
            
                <div class="col s3">
                    <i class="material-icons">expand_more</i>
                    
                    {% if session['admin'] %}
                    <a href="{{url_for('edit_place_name', place_name_id=place_name._id)}}" class="waves-effect waves-light btn btn_small blue">Edit</a>
                    <a href="{{url_for('delete_place_name', place_name_id=place_name._id)}}" class="waves-effect waves-light btn btn_small red">Delete</a>
                    {% elif session['username'] == place_name.created_by %}
                    <a href="{{url_for('edit_place_name', place_name_id=place_name._id)}}" class="waves-effect waves-light btn btn_small blue">Edit</a>
                    <a href="{{url_for('delete_place_name', place_name_id=place_name._id)}}" class="waves-effect waves-light btn btn_small red">Delete</a>
                    {% endif %}
                    
                </div>
                 <div style="margin: auto; position: relative; float: right;" class="col s3">
                    
                    <a href="{{url_for('add_like', place_name_id=place_name._id)}}"><i class="fas fa-thumbs-up"></i></a>
                    <strong>Likes</strong> - {{place_name.likes}}
                    <a href="{{url_for('add_dislike', place_name_id=place_name._id)}}"><i class="fas fa-thumbs-down"></i></a>
                    
                </div>
            </div>
            <div class="collapsible-body">
                <div>
                    <h5>Irish Name</h5>
                    <p>{{place_name.irl_name}}</p>
                </div>
                <div>
                    <h5>Irish Name Meaning</h5>
                    <p>{{place_name.irl_meaning}}</p>
                </div>
                <div>
                    <h5>History of Area</h5>
                    <p>{{place_name.history}}</p>
                     
                </div>
            </div>
        </li>
        {% endfor %}
    </ul>

{% endblock %}